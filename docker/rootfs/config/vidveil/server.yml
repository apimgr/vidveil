# =============================================================================
# Vidveil Configuration
# =============================================================================
# This file follows the apimgr AI.md specification
# Documentation: https://github.com/apimgr/vidveil
# =============================================================================

server:
    port: "64000"
    fqdn: amd.amd64.us
    address: '[::]'
    mode: production
    title: Vidveil
    description: Privacy-respecting adult video search
    user: ""
    group: ""
    pidfile: true
    admin:
        path: admin
        email: admin@amd.amd64.us
        username: administrator
        password: b91c21081b56d1a5f057ff4154c51f6f
        token: 4c11d7d6a3b3656b3a8b45d4834a2b955364df2f3c84d7b482be8aa7504b8d6b
        two_factor:
            enabled: false
            remember_device_days: 30
    email:
        enabled: false
        autodetect: true
        autodetect_hosts:
            - localhost
            - 172.17.0.1
        autodetect_ports:
            - 25
            - 465
            - 587
        host: ""
        port: 587
        username: ""
        password: ""
        from: no-reply@amd.amd64.us
        tls: auto
    notifications:
        enabled: true
        email: true
        bell: true
        types:
            startup: true
            shutdown: true
            error: true
            security: true
            update: true
            cert_expiry: true
    schedule:
        enabled: true
        cert_renewal: daily
        notifications: hourly
        cleanup: weekly
    ssl:
        enabled: false
        cert_path: /config/vidveil/ssl/certs
        letsencrypt:
            enabled: false
            domain: ""
            email: ""
            challenge: http-01
            dns_provider_type: ""
            dns_provider_key: ""
    metrics:
        enabled: false
        endpoint: /metrics
        include_system: true
        token: ""
    logs:
        level: info
        debug:
            enabled: false
            filename: debug.log
            format: text
            keep: none
            rotate: monthly
        access:
            enabled: false
            filename: access.log
            format: apache
            keep: none
            rotate: monthly
        server:
            enabled: false
            filename: server.log
            format: text
            keep: none
            rotate: weekly,50MB
        error:
            enabled: false
            filename: error.log
            format: text
            keep: none
            rotate: weekly,50MB
        audit:
            enabled: false
            filename: audit.log
            format: json
            keep: none
            rotate: monthly
        security:
            enabled: false
            filename: security.log
            format: fail2ban
            keep: none
            rotate: monthly
    rate_limit:
        enabled: true
        requests: 120
        window: 60
    limits:
        max_body_size: 10MB
        read_timeout: 30s
        write_timeout: 30s
        idle_timeout: 120s
    compression:
        enabled: true
        level: 5
        types:
            - text/html
            - text/css
            - text/javascript
            - application/json
            - application/xml
    trusted_proxies:
        additional: []
    security_headers:
        enabled: true
        hsts: true
        hsts_max_age: 31536000
        x_frame_options: SAMEORIGIN
        x_content_type_options: nosniff
        x_xss_protection: 1; mode=block
        referrer_policy: strict-origin-when-cross-origin
        csp: 'default-src ''self''; img-src ''self'' https: data:; style-src ''self'' ''unsafe-inline'''
    session:
        cookie_name: session_id
        max_age: 2592000
        secure: auto
        http_only: true
        same_site: lax
    cache:
        type: memory
        host: localhost
        port: 6379
        password: ""
        db: 0
        prefix: 'vidveil:'
        ttl: 3600
    database:
        driver: file
        sqlite:
            dir: /data/vidveil/db
            server_db: server.db
            journal_mode: WAL
            busy_timeout: 5000
        host: ""
        port: 0
        name: ""
        user: ""
        password: ""
        ssl_mode: ""
    geoip:
        enabled: true
        dir: ""
        update: weekly
        deny_countries: []
        databases:
            asn: true
            country: true
            city: false
    users:
        enabled: false
        registration:
            enabled: false
            require_email_verification: true
            require_approval: false
            allowed_domains: []
            blocked_domains: []
        roles:
            available:
                - admin
                - user
            default: user
        tokens:
            enabled: true
            max_per_user: 5
            expiration_days: 0
        profile:
            allow_avatar: true
            allow_display_name: true
            allow_bio: true
        auth:
            session_duration: 30d
            require_2fa: false
            allow_2fa: true
            password_min_length: 8
            password_require_uppercase: false
            password_require_number: false
            password_require_special: false
        limits:
            requests_per_minute: 0
            requests_per_day: 0
    security:
        dir: ""
        blocklists:
            enabled: false
            sources: []
        cve:
            enabled: false
            source: ""
            filter_by_cpe: false
    backup:
        retention:
            max_backups: 1
            keep_weekly: 0
            keep_monthly: 0
            keep_yearly: 0
        encryption:
            enabled: false
web:
    ui:
        theme: dark
        logo: ""
        favicon: ""
    branding:
        app_name: ""
        tagline: ""
    announcements:
        enabled: true
        messages: []
    robots:
        allow:
            - /
        deny:
            - /admin
            - /api/v1/admin
    security:
        contact: security@amd.amd64.us
        expires: ""
    cors: '*'
    csrf:
        enabled: true
        token_length: 32
        cookie_name: csrf_token
        header_name: X-CSRF-Token
        secure: auto
    footer:
        tracking_id: ""
        cookie_consent:
            enabled: false
            message: This site uses cookies for age verification.
            policy_text: Privacy Policy
            policy_url: /about#privacy
        custom_html: ""
search:
    default_engines: []
    concurrent_requests: 10
    engine_timeout: 15
    results_per_page: 50
    max_pages: 10
    min_duration_seconds: 600
    filter_premium: true
    spoof_tls: false
    age_verification:
        enabled: true
        cookie_days: 30
    custom_terms: []
engines:
    useragent:
        os: windows
        version: "11"
        browser: chrome
        browser_version: "131"
