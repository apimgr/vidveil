{{define "public/nav"}}
{{/* Navigation bar - desktop links + compact search per AI.md PART 16
     Hamburger menu moved to header for consistency */}}
<nav class="site-nav" id="site-nav" aria-label="Main navigation">
    {{/* Desktop: inline links */}}
    <div class="nav-links">
        <a href="/" class="nav-link{{if eq .ActiveNav "home"}} active{{end}}">Home</a>
        <a href="/search" class="nav-link{{if eq .ActiveNav "search"}} active{{end}}">Search</a>
        <a href="/server/about" class="nav-link{{if eq .ActiveNav "about"}} active{{end}}">About</a>
        <a href="/server/help" class="nav-link{{if eq .ActiveNav "help"}} active{{end}}">Help</a>
    </div>

    {{/* Compact search form - matches search-form partial styling */}}
    <form action="/search" method="get" class="search-form search-form--compact" role="search" aria-label="Quick search" onsubmit="return handleSearchSubmit(this)">
        <label for="nav-search-input" class="visually-hidden">Search query</label>
        <div class="search-wrapper">
            <input type="text"
                   id="nav-search-input"
                   name="q"
                   value="{{.Query}}"
                   placeholder="Search..."
                   autocomplete="off"
                   aria-label="Enter search terms"
                   aria-autocomplete="list"
                   aria-controls="autocomplete-dropdown-nav">
            <div id="autocomplete-dropdown-nav"
                 class="autocomplete-dropdown"
                 role="listbox"
                 aria-label="Bang suggestions"
                 hidden></div>
        </div>
        <button type="submit" aria-label="Search" class="search-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <span class="visually-hidden">Search</span>
        </button>
    </form>
</nav>
{{end}}
