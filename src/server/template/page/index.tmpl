{{define "home"}}
<!DOCTYPE html>
<html lang="en" class="theme-{{.Theme}}">
<head>
    {{template "public/head" .}}
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    {{template "public/header" .}}
    <main class="home" id="main-content" role="main">
        <div class="home-hero">
            <h1>Vidveil</h1>
            <p class="tagline">{{.Description}}</p>

            {{/* Large search form - consistent with nav search styling */}}
            <form action="/search" method="get" class="search-form search-form--large" role="search" aria-label="Video search">
                <label for="search-input" class="visually-hidden">Search query</label>
                <div class="search-wrapper">
                    <input type="text"
                           id="search-input"
                           name="q"
                           placeholder="Search videos... (try !ph or !xv)"
                           autofocus
                           required
                           aria-required="true"
                           autocomplete="off"
                           aria-label="Enter search terms"
                           aria-autocomplete="list"
                           aria-controls="autocomplete-dropdown">
                    <div id="autocomplete-dropdown"
                         class="autocomplete-dropdown"
                         role="listbox"
                         aria-label="Bang suggestions"
                         hidden></div>
                </div>
                <button type="submit" aria-label="Search" class="search-btn">Search</button>
            </form>

            <p class="bang-hint">Use bangs: <code>!ph</code> PornHub, <code>!xv</code> XVideos, <code>!xh</code> xHamster, <code>!rt</code> RedTube</p>

            {{/* Unified filters - collapsible on all screen sizes */}}
            {{template "public/filters" (dict "ShowEngines" true "Compact" false)}}
        </div>

        <div id="search-history" class="search-history" role="region" aria-label="Recent searches"></div>

        <div class="engine-stats" role="contentinfo" aria-label="Service statistics">
            <span class="stat"><strong>{{.EngineCount}}</strong> engines</span>
            <span class="divider" aria-hidden="true">|</span>
            <span class="stat">No tracking</span>
            <span class="divider" aria-hidden="true">|</span>
            <span class="stat">Tor support</span>
        </div>
    </main>
    {{template "public/footer" .}}
    {{template "public/scripts" .}}
</body>
</html>
{{end}}
