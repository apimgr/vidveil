{{define "nojs/preferences"}}
<!DOCTYPE html>
<html lang="en" class="theme-{{.Theme}}">
<head>
    {{template "public/head" .}}
</head>
<body>
    {{template "public/header" .}}
    <main class="preferences">
        <h1>Preferences</h1>
        <p><em>Note: Preferences are stored in your browser's cookies and local storage. No server-side tracking.</em></p>
        
        <form method="post" action="/preferences/save">
            <section>
                <h2>Appearance</h2>
                <div class="form-group">
                    <label for="theme">Theme:</label>
                    <select id="theme" name="theme">
                        <option value="dark" {{if eq .Theme "dark"}}selected{{end}}>Dark (Dracula)</option>
                        <option value="light" {{if eq .Theme "light"}}selected{{end}}>Light</option>
                    </select>
                </div>
            </section>

            <section>
                <h2>Search Settings</h2>
                <div class="form-group">
                    <label for="results-per-page">Results per page:</label>
                    <select id="results-per-page" name="resultsPerPage">
                        <option value="20" {{if eq .ResultsPerPage "20"}}selected{{end}}>20</option>
                        <option value="50" {{if eq .ResultsPerPage "50"}}selected{{end}}>50</option>
                        <option value="100" {{if eq .ResultsPerPage "100"}}selected{{end}}>100</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="open-new-tab">
                        <input type="checkbox" id="open-new-tab" name="openNewTab" {{if .OpenNewTab}}checked{{end}}>
                        Open links in new tab
                    </label>
                </div>
            </section>

            <section>
                <h2>Privacy</h2>
                <div class="form-group">
                    <label for="proxy-thumbnails">
                        <input type="checkbox" id="proxy-thumbnails" name="proxyThumbnails" checked disabled>
                        Proxy all thumbnails (always enabled for privacy)
                    </label>
                </div>
            </section>

            <div class="form-actions">
                <button type="submit" class="btn-primary">Save Preferences</button>
                <button type="reset" class="btn-secondary">Reset</button>
            </div>
        </form>
    </main>
    {{template "public/footer" .}}
</body>
</html>
{{end}}
